<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cricket Live Score</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body>
    <div class="progress-bar">
        <div class="progress"></div>
    </div>
    <div class="main-container">
        <div class="log-panel">
            <div class="screenshot-container">
                <h3>Latest Screenshot</h3>
                <img id="match-screenshot" alt="Match Screenshot">
            </div>
            <p>Fetching data all depends on the source. Above screenshot is just an indication of the available data. Interval time is 10 seconds. You can be lucky... or not so lucky with an almost empty screen.</p>
            <h3>Match Archive</h3>
            <div class="match-archive"></div>
            <h3>Harold's Log</h3>
            <div class="log-content"></div>
            <h3>Detailed Log</h3>
            <div class="log-content-detailed"></div>
        </div>
        <div class="container">
            <div class="match-title-container">
                <div class="match-title"></div>
            </div>
            
            <button class="toggle-manual-mode" onclick="toggleManualMode()">
                <svg class="mode-icon manual" viewBox="0 0 24 24">
                    <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
                </svg>
                <svg class="mode-icon auto" viewBox="0 0 24 24">
                    <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M7,13H17V11H7"/>
                </svg>
                <span class="button-text">Manual Mode</span>
            </button>

            <div class="manual-controls">
                <div class="digital-scoreboard-layout">
                    <div class="title-row">
                        <div>Batsman 1</div>
                        <div>Total</div>
                        <div>Batsman 2</div>
                    </div>
                    <div class="data-row">
                        <div class="field-group">
                            <input type="text" class="manual-input fullwidth" data-field="batsmanA" placeholder="Batsman A">
                        </div>
                        <div class="field-group score-group">
                        <div class="score-wrapper">
                            <input type="number" class="manual-input fullwidth" data-field="score1" placeholder="Total Score">
                        </div>
                            <div class="button-group">
                                <button class="tablet-button decrease" data-field="score1">-</button>
                                <button class="tablet-button increase" data-field="score1">+</button>
                            </div>
                        </div>
                        <div class="field-group">
                            <input type="text" class="manual-input fullwidth" data-field="batsmanB" placeholder="Batsman B">
                        </div>
                    </div>

                    <div class="title-row">
                        <div>Runs A</div>
                        <div>Wickets</div>
                        <div>Runs B</div>
                    </div>
                    <div class="data-row">
                        <div class="field-group">
                            <input type="number" class="manual-input" data-field="runsA" placeholder="Runs">
                            <div class="button-group">
                                <button class="tablet-button decrease" data-field="runsA">-</button>
                                <button class="tablet-button increase" data-field="runsA">+</button>
                            </div>
                        </div>
                        <div class="field-group">
                            <input type="number" class="manual-input" data-field="wickets" placeholder="Wickets" step="1">
<div class="button-group">
                                <button class="tablet-button decrease" data-field="wickets">-</button>
                                <button class="tablet-button increase" data-field="wickets">+</button>
                            </div>
                        </div>
                        <div class="field-group">
                            <input type="number" class="manual-input" data-field="runsB" placeholder="Runs">
                            <div class="button-group">
                                <button class="tablet-button decrease" data-field="runsB">-</button>
                                <button class="tablet-button increase" data-field="runsB">+</button>
                            </div>
                        </div>
                    </div>

                    <div class="title-row">
                        <div>DLS</div>
                        <div>Overs</div>
                        <div>1st Inn</div>
                    </div>
                    <div class="data-row">
                        <div class="field-group">
                            <input type="number" class="manual-input" data-field="dls" placeholder="DLS">
<div class="button-group">
                                <button class="tablet-button clear" data-field="dls">Clear</button>
                            </div>
                        </div>
                        <div class="field-group">
                            <input type="number" class="manual-input" data-field="overs1" placeholder="Overs" step="1">
<div class="button-group">
                                <button class="tablet-button decrease" data-field="overs1">-</button>
                                <button class="tablet-button increase" data-field="overs1">+</button>
                            </div>
                        </div>
                        <div class="field-group">
                            <input type="number" class="manual-input" data-field="inning1Score" placeholder="1st Inn">
<div class="button-group">
                                <button class="tablet-button clear" data-field="inning1Score">Clear</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="controls">
                <div class="match-buttons">
                    <div class="url-input-container">
                        <input type="text" id="match-url" placeholder="Paste URL..." 
                               autocomplete="on" list="url-history">
                        <datalist id="url-history"></datalist>
                        <button id="add-url" class="match-button">Add</button>
                        <button id="backup-files" class="match-button" style="background:darkred; color:#FFFFFF99" onclick="backupFiles()">Backup Files</button>
                        <a href="https://go.frogbox.live/manage" target="_blank" class="frogbox-link" title="Go get the Graphics URL from go.frogbox.live">
                            <img src="https://go.frogbox.live/logo-mono.svg" alt="Go get the Graphics URL from go.frogbox.live">
                        </a>
                    </div>
                </div>
            </div>

            <div class="innings inning1">
                <div class="header">
                    <div class="team-name">Team 1</div>
                    <div class="score">Score</div>
                    <div class="overs">Overs</div>
                </div>
                <div class="innings-content">
                    <div class="batting-section">
                        <div class="batsmen-list">
                            <div class="batting-header">
                                <div>Batsman</div>
                                <div>R</div>
                                <div>B</div>
                                <div>SR</div>
                            </div>
                            <!-- batsmen content -->
                        </div>
                    </div>
                    <div class="bowling-section">
                        <div class="bowlers-list">
                            <div class="bowling-header">
                                <div>Bowler</div>
                                <div>O</div>
                                <div>R</div>
                                <div>W</div>
                            </div>
                            <!-- bowlers content -->
                        </div>
                    </div>
                </div>
                <div class="last-over">Last over</div>
            </div>

            <div class="innings inning2">
                <div class="header">
                    <div class="team-name">Team 2</div>
                    <div class="score"></div>
                    <div class="overs"></div>
                </div>
                <div class="innings-content">
                    <div class="batting-section">
                        <div class="batsmen-list">
                            <div class="batting-header">
                                <div>Batsman</div>
                                <div>R</div>
                                <div>B</div>
                                <div>SR</div>
                            </div>
                            <!-- batsmen content -->
                        </div>
                    </div>
                    <div class="bowling-section">
                        <div class="bowlers-list">
                            <div class="bowling-header">
                                <div>Bowler</div>
                                <div>O</div>
                                <div>R</div>
                                <div>W</div>
                            </div>
                            <!-- bowlers content -->
                        </div>
                    </div>
                </div>
                <div class="last-over"></div>
            </div>

            <div class="teams-section">
                <h2>Teams & Officials</h2>
                <div class="url-input-container">
                    <input type="text" id="teams-url" autocomplete="on" placeholder="Team list URL...">
                    <button id="fetch-teams" class="match-button">Fetch Teams</button>
                    <a href="https://matchcentre.kncb.nl/" target="_blank" class="kncb-link" title="Go to KNCB website">
                        <img src="https://www.kncb.nl/images/logos/logo-kncb.png" width="40" height="40" alt="KNCB website">
                    </a>
                </div>
                <div class="teams-grid">
                    <div class="team-container">
                        <h3>Team A</h3>
                        <div class="team-list" id="teamA-list"></div>
                    </div>
                    <div class="team-container">
                        <h3>Team B</h3>
                        <div class="team-list" id="teamB-list"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="preview-panel">
            <iframe src="digital-scoreboard.html" 
                title="Digital Scoreboard"
                style="border: none; border-radius: 6px; background: #1a1a1a; object-fit: contain; aspect-ratio: 16 / 9; overflow: hidden; margin-bottom: 1em; zoom: 95%;">
            </iframe>
            <button class="fullscreen-button" onclick="openFullscreenScoreboard()">
                <svg viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>
                Open Fullscreen Scoreboard (F11)
            </button>
            <h3>Animations</h3>
            <div class="video-controls">
                <button class="video-button" data-video="4 Runs">4 Runs 🏏</button>
                <button class="video-button" data-video="6 Runs">6 Runs 🏏</button>
                <button class="video-button" data-video="Duck 1">Duck 🏏</button>
                <button class="video-button" data-video="Century 100 runs">💯 Century 🏏</button>
                <button class="video-button" data-video="100 Partnership">100 Partnership 🏏</button>
                <button class="video-button" data-video="Team total 100 runs">100 Team 🏏</button>

                <button class="video-button" data-video="Wicket">🔴 Wicket</button>
                <button class="video-button" data-video="Hattrick">🔴 Hattrick</button>
                <button class="video-button" data-video="Maiden">🔴 Maiden</button>
                <button class="video-button" data-video="5 for">🔴 5 for</button>
                <button class="video-button kill-video" onclick="killAllVideos()">
                    <svg class="kill-icon" viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>
                    </svg>
                    Kill Video
                </button>
            </div>
            <h3>Select a scoreboard layout</h3>
            <div class="preview-screens">
                <div class="preview-container">
                    <img 
                        src="Screenshot Regular Scoreboard 3 - Green.jpg" 
                        alt="Digital Scoreboard Preview"
                        width="350"
                        height="218"
          onclick="openDigitalScoreboard()"
                        style="cursor: pointer; border-radius: 6px; background: #1a1a1a; object-fit: contain;"
                    />
                </div>
            </div>
        </div>
    </div>
    
    <div id="video-player">
        <div class="video-wrapper">
            <video id="animation-video"></video>
        </div>
    </div>

    <script src="client.js"></script>
</body>
</html>